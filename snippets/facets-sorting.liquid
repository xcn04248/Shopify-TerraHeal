{% comment %}
  Sorting block, reused for desktop (horizontal, vertical-nojs) and drawer
{% endcomment %}

{% if enable_sorting %}
  <div class="facet-filters sorting caption{% if desktop != true %} small-hide{% endif %}">
    <div class="facet-filters__field">
      <h2 class="facet-filters__label caption-large text-body">
        <label for="SortBy">{{ 'products.facets.sort_by_label' | t }}</label>
      </h2>
      <div class="select">
        {%- assign sort_by = results.sort_by | default: results.default_sort_by -%}
        <select
          name="sort_by"
          class="facet-filters__sort select__select caption-large"
          id="SortBy{% unless desktop %}-mobile{% endunless %}"
          aria-describedby="a11y-refresh-page-message"
        >
          {%- for option in results.sort_options -%}
            <option
              value="{{ option.value | escape }}"
              {% if option.value == sort_by %}selected="selected"{% endif %}
            >
              {{ option.name | escape }}
            </option>
          {%- endfor -%}
        </select>
        {% render 'icon-caret' %}
      </div>
    </div>

    <noscript>
      <button type="submit" class="facets__button-no-js button button--secondary">
        {{ 'products.facets.sort_button' | t }}
      </button>
    </noscript>
  </div>
{% endif %}
